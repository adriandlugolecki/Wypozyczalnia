import{D as j,E as I,c as o,r as l,I as P,d as n,e as f,f as w,g as y,F as g,k as V,t as x,h as _,j as r,v as u,i as b,m as C,_ as N,o as A,w as B,n as T,p as H}from"./index-dcca130b.js";const E=s=>(j("data-v-83a7f5f6"),s=s(),I(),s),M={key:0,class:"zmianaHasla"},F=E(()=>o("h2",null,"Zmiana hasła",-1)),W={__name:"Pracownik",props:{pracownik:Object},setup(s){const c=s,d=l(!1),t=l(""),k=async()=>{if(t.value.toLowerCase()!==t.value&&/\d/.test(t.value)&&t.value.length>=8&&t.value!=""){var p=await P.patch("Autoryzacja/ZmianaHaslaPracownik",{email:c.pracownik.email,haslo:t.value});n.tekst=p.data,n.show=!0}else n.tekst=" Hasło musi zawierać przynajmniej 8 znaków, małą literę, dużą literę i cyfrę ",n.error=!0,n.show=!0};return(p,i)=>{const v=f("v-btn");return w(),y(g,null,[o("div",null,[V(x(c.pracownik.imie)+" "+x(c.pracownik.nazwisko)+" "+x(c.pracownik.phoneNumber)+" ",1),_(v,{icon:"mdi-key-variant",elevation:"0",onClick:i[0]||(i[0]=m=>d.value=!d.value)})]),d.value?(w(),y("div",M,[F,r(o("input",{placeholder:"Wpisz nowe hasło","onUpdate:modelValue":i[1]||(i[1]=m=>t.value=m),class:"wybor"},null,512),[[u,t.value]]),o("div",null,[_(v,{onClick:k,color:"#ebcc39"},{default:b(()=>[V("zmień")]),_:1})])])):C("",!0)],64)}}},Z=N(W,[["__scopeId","data-v-83a7f5f6"]]);const O=s=>(j("data-v-805cf2c1"),s=s(),I(),s),R={class:"tlo"},q={class:"okno"},G=O(()=>o("h1",{class:"tytul"},"Pracownicy",-1)),J={key:0,class:"formularz"},K={__name:"ListaPracownikow",setup(s){const c=l([]),d=l(!1),t=l(),k=l(),p=l(),i=l(),v=l(),m=l(),S=l(!1),z=l();A(async()=>{try{var h=await P.get("/Admin/ListaPracownikow");c.value=h.data}catch{}});const D=async()=>{try{await P.post("/Autoryzacja/PracownikRejestracja",{imie:t.value,nazwisko:k.value,dataUrodzenia:p.value,pesel:i.value,email:v.value,haslo:m.value,czyAdmin:S.value,numerTelefonu:z.value}),n.tekst="Dodano pracownika",n.show=!0,location.reload()}catch{n.tekst="Wystąpił błąd sprawdz mail lub pesel",n.error=!0,n.show=!0}};return(h,e)=>{const U=f("v-btn"),L=f("v-form"),$=f("v-list-item");return w(),y("div",R,[o("div",q,[_(U,{elevation:"0",class:"dodanie",icon:"mdi-plus-circle",onClick:e[0]||(e[0]=a=>d.value=!d.value)}),G,d.value?(w(),y("div",J,[_(L,{onSubmit:B(D,["prevent"])},{default:b(()=>[o("div",null,[r(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),placeholder:"Imię",class:"wybor"},null,512),[[u,t.value]]),r(o("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>k.value=a),placeholder:"Nazwisko",class:"wybor"},null,512),[[u,k.value]]),r(o("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=a=>p.value=a),placeholder:"DataUrodzenia",class:"wybor"},null,512),[[u,p.value]]),r(o("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>i.value=a),placeholder:"Pesel",class:"wybor"},null,512),[[u,i.value]]),r(o("input",{type:"email","onUpdate:modelValue":e[5]||(e[5]=a=>v.value=a),placeholder:"Email",class:"wybor"},null,512),[[u,v.value]]),r(o("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>m.value=a),placeholder:"Hasło",class:"wybor"},null,512),[[u,m.value]]),r(o("input",{type:"tel","onUpdate:modelValue":e[7]||(e[7]=a=>z.value=a),placeholder:"Numer Telefonu",class:"wybor"},null,512),[[u,z.value]])]),_(U,{type:"submit",class:"mt-5",color:"#ebcc39"},{default:b(()=>[V("Dodaj ")]),_:1})]),_:1},8,["onSubmit"])])):C("",!0),(w(!0),y(g,null,T(c.value,a=>(w(),H($,{key:a.id},{default:b(()=>[_(Z,{pracownik:a},null,8,["pracownik"])]),_:2},1024))),128))])])}}},X=N(K,[["__scopeId","data-v-805cf2c1"]]);export{X as default};
