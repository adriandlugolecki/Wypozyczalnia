import{c as b,r as s,b as U,d as u,y as N,e as d,f as g,g as D,h as l,w as R,i,u as t,k as B}from"./index-cfa79397.js";import{b as j,c as C,d as H,e as I,z as S,a as T}from"./zasady-17a3576a.js";const E={class:"tlo"},P={class:"okno"},W=b("h1",{class:"gold"},"Zarejestruj się",-1),L={__name:"Rejestracja",setup(Z){const m=s(),v=s(),p=s(),f=s(),c=s(),y=s(),V=s(),n=s(!1),_=s(),k=async w=>{var o;await w;const e=await((o=_.value)==null?void 0:o.validate());if(e&&e.valid)try{var r=await U.post("/autoryzacja/rejestracja",{imie:m.value,nazwisko:v.value,dataUrodzenia:p.value,pesel:f.value,numerTelefonu:V.value,email:c.value,haslo:y.value});u.tekst="konto zostało utworzone",u.show=!0,N.push(`/potwierdzenieKonta/${r.data.id}`)}catch{u.tekst="Wypełnij pola",u.error=!0,u.show=!0}};return(w,e)=>{const r=d("v-row"),o=d("v-text-field"),z=d("v-btn"),x=d("v-form");return g(),D("div",E,[b("div",P,[l(x,{ref_key:"formularzRejestracji",ref:_,onSubmit:R(k,["prevent"])},{default:i(()=>[l(r,{class:"justify-center my-6"},{default:i(()=>[W]),_:1}),l(o,{label:"Imię",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a),rules:t(j)},null,8,["modelValue","rules"]),l(o,{label:"Nazwisko",modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=a=>v.value=a),rules:t(j)},null,8,["modelValue","rules"]),l(o,{type:"Date",label:"Data urodzenia",modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=a=>p.value=a),max:new Date(Date.now()-5680368e5).toJSON().slice(0,10),rules:t(C),onkeydown:"return false"},null,8,["modelValue","max","rules"]),l(o,{label:"Pesel",modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=a=>f.value=a),rules:t(H)},null,8,["modelValue","rules"]),l(o,{label:"Numer Telefonu",modelValue:V.value,"onUpdate:modelValue":e[4]||(e[4]=a=>V.value=a),rules:t(I)},null,8,["modelValue","rules"]),l(o,{label:"Email",modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=a=>c.value=a),rules:t(S)},null,8,["modelValue","rules"]),l(o,{label:"Hasło",modelValue:y.value,"onUpdate:modelValue":e[6]||(e[6]=a=>y.value=a),rules:t(T),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[7]||(e[7]=()=>n.value=!n.value)},null,8,["modelValue","rules","type","append-inner-icon"]),l(r,{class:"justify-center mt-5 mb-5"},{default:i(()=>[l(z,{type:"submit",color:"#ebcc39"},{default:i(()=>[B("Zarejestruj")]),_:1})]),_:1})]),_:1},8,["onSubmit"])])])}}};export{L as default};
